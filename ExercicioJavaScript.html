<HTML>
 <HEAD>
   <TITLE> Exercicio 6- Javascript </TITLE>
 </HEAD>

<BODY>
	
<H1> Exemplo 6 - Javascript </H1>

<Br>
<br>
<h3> Exercicio 1</h3>
<h4>Insira os valores para os respectivos campos para validação:</h4>
<p> CPF:<input type="text" onblur="TestaCPF(this)"> </p>
<p> E-mail: <input type="text" name="email" onblur="validacaoEmail(this)">  </p>
<p> Data: <input type="text" onblur="out.innerHTML = ValidaData(this.value)" > </p>
<p id='out'></p>
<script>
// CPF
function TestaCPF(elemento) {
  cpf = elemento.value;
  cpf = cpf.replace(/[^\d]+/g, '');

  // Elimina CPFs invalidos conhecidos    
  if (cpf.length != 11 ||
    cpf == "00000000000" ||
    cpf == "11111111111" ||
    cpf == "22222222222" ||
    cpf == "33333333333" ||
    cpf == "44444444444" ||
    cpf == "55555555555" ||
    cpf == "66666666666" ||
    cpf == "77777777777" ||
    cpf == "88888888888" ||
    cpf == "99999999999")
   	alert ("CPF INVALIDO.");
	return false;	
  add = 0;
  for (i = 0; i < 9; i++)
    add += parseInt(cpf.charAt(i)) * (10 - i);
  rev = 11 - (add % 11);
  if (rev == 10 || rev == 11)
	rev = 0;
  if (rev != parseInt(cpf.charAt(9)))
 	alert ("CPF INVALIDO.");
	return false;	
  add = 0;
  for (i = 0; i < 10; i++)
    add += parseInt(cpf.charAt(i)) * (11 - i);
  rev = 11 - (add % 11);
  if (rev == 10 || rev == 11)
    rev = 0;
  if (rev != parseInt(cpf.charAt(10)))
   alert ("CPF VALIDO.");
	return true;	
}

function validacaoEmail(elemento) {
usuario = elemento.value.substring(0, elemento.value.indexOf("@"));
dominio = elemento.value.substring(elemento.value.indexOf("@")+ 1, elemento.value.length);
 
if ((usuario.length >=1) &&    (dominio.length >=3) &&     (usuario.search("@")==-1) && 
    (dominio.search("@")==-1) &&
    (usuario.search(" ")==-1) && 
    (dominio.search(" ")==-1) &&
    (dominio.search(".")!=-1) &&      
    (dominio.indexOf(".") >=1)&& 
    (dominio.lastIndexOf(".") < dominio.length - 1)) {
alert("E-MAIL VALIDO");
}
else{
alert("EMAIL INVALIDO.");
}
}
<!-- DATA -->
function ValidaData(data){
      reg = /[^\d\/\.]/gi;                  // Mascara = dd/mm/aaaa | dd.mm.aaaa
      var valida = data.replace(reg,'');    // aplica mascara e valida só numeros
      if (valida && valida.length == 10) {  // é válida, então ;)
        var ano = data.substr(6),
          mes = data.substr(3,2),
          dia = data.substr(0,2),
          M30 = ['04','06','09','11'],
          v_mes = /(0[1-9])|(1[0-2])/.test(mes),
          v_ano = /(19[1-9]\d)|(20\d\d)|2100/.test(ano),
          rexpr = new RegExp(mes),
          fev29 = ano % 4? 28: 29;

        if (v_mes && v_ano) {
          if (mes == '02') return (dia >= 1 && dia <= fev29);
          else if (rexpr.test(M30)) return /((0[1-9])|([1-2]\d)|30)/.test(dia);
          else return /((0[1-9])|([1-2]\d)|3[0-1])/.test(dia);
		   alert("DATA VALIDA");
        }
      }
	  alert("DATA INVALIDA");
                               // se inválida :(
    }

</SCRIPT> 

<!--
2) Escreva um script que calcule o quadrado, cubo e fatorial dos números de 0 a 10 e gere a saída em HTML:
      N     ^2    ^3    Fatorial
      0     0     0     1
      1     1     1     1
      2     4     8     2
      ...   ...   ...   ...
OU mostre um exemplo que utilize funções matemáticas do Javascript. -->
 
<br>
<br>
<h3> Exercicio 2</h3>
<h4>Insira um numero para realizar as opções:</h4>

<p> Operação Fatorial: <input type="text" name="fatorialnumero" onblur="fatorial(this)" > </p> 
<p> Operação Quadrada: <input type="text" name="raiz" onblur="raizQuadrada(this)" > </p>
<p> Operação Cubo: <input type="text" name="raiz" onblur="aoCubo(this)" > </p>
<script> 
 function fatorial(numero) {
   var valor = numero.value;
    var acumula = 0;
      // para valores negativos
      if(valor<0) {
        return 'Valor deve ser maior ou igual a zero';
      
        // para valor = 0  ou igual a 1
      } 
	  if ( (valor == 0) || (valor == 1) ) {
        return 1;
       
      } else {
       	 acumula = valor;
		while (valor > 2) {
        acumula *= --valor;
		alert(acumula);
		return acumula;
        }
		
	} 
	
	   }
    
   function raizQuadrada(numero) {
   var valor = numero.value;
      // para valores negativos
      if(valor<0) {
        return 'Valor deve ser maior ou igual a zero';
      
        // para valor = 0  ou igual a 1
      } else if ( (valor == 0) || (valor == 1) ) {
        return 1;
       
      } else {
	   raiz=Math.sqrt(valor);
         }
		alert(raiz);
        return raiz;  
      } 
	  
function aoCubo(numero) {
   var valor = numero.value;
      // para valores negativos
      if(valor<0) {
        return 'Valor deve ser maior ou igual a zero';
      
        // para valor = 0  ou igual a 1
      } else if ( (valor == 0) || (valor == 1) ) {
        return 1;
       
      } else {
	    cubo = Math.pow(valor, 3)
         }
		alert (cubo)
        return cubo;  
		
      } 
	
  
</script> 

<!-- 4) Crie um novo exemplo de uso de Javascript com manipulação de Strings ou Vetores. -->
<br>
<br>
<h3> Exercicio 4</h3>
<h4>Insira um texto para realizar a manipulação do texto. </h4>
<p> Texto: <input type="text" name="texto" onblur="manipulacao(this)"> </p> 
<script>
function  manipulacao(texto) {
var valor = texto.value;
var resultado = valor.substring(3, 7);
alert(resultado);
return resultado;
       
}
</script>


<!-- 5) Somar 2 números fornecidos pelo usuário:
      A) utilizar janelas (prompt) 
      B) utilizar 'text' em formulário
      Mostrar resultado como caixa de texto, Alert ou no HTML
-->
<br>
<br>
<h3> Exercicio 5</h3>
<h4>Insira dois números para realizar as operações:</h4>
<p>Clique aqui para inserir os numeros</p>
 <button onclick="myFunction()">Clique aqui</button>
 
<p id="demo"></p>
<p id="demo2"></p>
<script>
function myFunction()
{
var x;
 
var num1=prompt("Digite o primeiro numero:");
var num2=prompt("Digite o segundo numero:");

if (num1!=null &&  num2!=null){
  var soma = parseInt(num1) + parseInt(num2);
  alert("A Soma dos valores é: "  + soma);
 return soma;
 } else {
 alert("Valores invalidos. ");
 } 
  
  
}
</script>

<br> <br>
<h5>Desenvolvimento de aplicacação web - Caroline Heloísa de Mendonça</h3>

</BODY>
</HTML>